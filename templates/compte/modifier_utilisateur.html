{% extends 'mainAdmin.html'%}
{% load widget_tweaks %}
{% block contenu %}
{% load static %}
<div>
  <h1>Modifier un utilisateur </h1>
  <div style="position: absolute;right: 10px;top: 20px ;margin-right: 30px;">
    <img src="{% static 'images/logo-tt-200.png ' %}" alt="" style="margin-top: -10px;height: 100px;">
  </div>
  <hr>
</div>

<div class="row" >
	<div class="col-xl-9 col-lg-9 col-md-14 col-sm-14 col-14" style="margin-left:10%;">
		<div class="card h-100">
			<div class="card-body">
				<div class="account-settings">
                <div class="card-body">
        <form action="" method="POST"novalidate enctype="multipart/form-data" >
            {% csrf_token %}
                <label>Image </label>
                     {% if form.is_bound %}
                         {% if form.image.errors %}
                          {% render_field form.image class="form-control is-invalid" %}
                          {% for error in form.image.errors %}
                         <div class="invalid-feedback">
                          {{ error }}
                        </div>
                        {% endfor %}
                     {% else %}
                      {% render_field form.image class="form-control is-valid" %}
                    {% endif %}
                    {% else %}
                    {% render_field form.image class="form-control" %}
                    {% endif %}


                <label>Nom d'utilisateur </label>
                     {% if form.is_bound %}
                         {% if form.nom.errors %}
                          {% render_field form.nom class="form-control is-invalid" %}
                          {% for error in form.nom.errors %}
                         <div class="invalid-feedback">
                          {{ error }}
                        </div>
                        {% endfor %}
                     {% else %}
                      {% render_field form.nom class="form-control is-valid" %}
                    {% endif %}
                    {% else %}
                    {% render_field form.nom class="form-control" %}
                    {% endif %}
            <label>Prénom d'utilisateur </label>
                     {% if form.is_bound %}
                         {% if form.prenom.errors %}
                          {% render_field form.prenom class="form-control is-invalid" %}
                          {% for error in form.prenom.errors %}
                         <div class="invalid-feedback">
                          {{ error }}
                        </div>
                        {% endfor %}
                     {% else %}
                      {% render_field form.prenom class="form-control is-valid" %}
                    {% endif %}
                    {% else %}
                    {% render_field form.prenom class="form-control" %}
                    {% endif %}
            <label>Âge </label>
                     {% if form.is_bound %}
                         {% if form.age.errors %}
                          {% render_field form.age class="form-control is-invalid" %}
                          {% for error in form.age.errors %}
                         <div class="invalid-feedback">
                          {{ error }}
                        </div>
                        {% endfor %}
                     {% else %}
                      {% render_field form.age class="form-control is-valid" %}
                    {% endif %}
                    {% else %}
                    {% render_field form.age class="form-control" %}
                    {% endif %}
              <label>Adresse</label>
                     {% if form.is_bound %}
                         {% if form.adresse.errors %}
                          {% render_field form.adresse class="form-control is-invalid" %}
                          {% for error in form.adresse.errors %}
                         <div class="invalid-feedback">
                          {{ error }}
                        </div>
                        {% endfor %}
                     {% else %}
                      {% render_field form.adresse class="form-control is-valid" %}
                    {% endif %}
                    {% else %}
                    {% render_field form.adresse class="form-control" %}
                    {% endif %}

            <label>Email</label>
                     {% if form.is_bound %}
                         {% if form.email.errors %}
                          {% render_field form.email class="form-control is-invalid" %}
                          {% for error in form.email.errors %}
                         <div class="invalid-feedback">
                          {{ error }}
                        </div>
                        {% endfor %}
                     {% else %}
                      {% render_field form.email class="form-control is-valid" %}
                    {% endif %}
                    {% else %}
                    {% render_field form.email class="form-control" %}
                    {% endif %}
            <label>Date de naissance</label>
                     {% if form.is_bound %}
                         {% if form.date_naiss.errors %}
                          {% render_field form.date_naiss class="form-control is-invalid" %}
                          {% for error in form.date_naiss.errors %}
                         <div class="invalid-feedback">
                          {{ error }}
                        </div>
                        {% endfor %}
                     {% else %}
                      {% render_field form.date_naiss class="form-control is-valid" %}
                    {% endif %}
                    {% else %}
                    {% render_field form.date_naiss class="form-control" %}
                    {% endif %}

            <label>Numéro de téléphone</label>
                     {% if form.is_bound %}
                         {% if form.telephone.errors %}
                          {% render_field form.telephone class="form-control is-invalid" %}
                          {% for error in form.telephone.errors %}
                         <div class="invalid-feedback">
                          {{ error }}
                        </div>
                        {% endfor %}
                     {% else %}
                      {% render_field form.telephone class="form-control is-valid" %}
                    {% endif %}
                    {% else %}
                    {% render_field form.telephone class="form-control" %}
                    {% endif %}
            <label>Rôle</label>
             <select class="form-control" name="role" id="form.role">
                <option value="{{utilisateur.role}}" selected >{{utilisateur.role}}</option>
             </select>

                <label>Mot de passe </label>
                     {% if form.is_bound %}
                         {% if form.motDePasse.errors %}
                        <input type="password" class="form-control is-invalid" name="motDePasse" id="form.motDePasse" value="{{utilisateur.motDePasse}}" >
                          {% for error in form.motDePasse.errors %}
                         <div class="invalid-feedback">
                          {{ error }}
                        </div>
                        {% endfor %}
                     {% else %}
                    <input type="password" class="form-control is-valid" name="password" id="form.password" value="{{utilisateur.motDePasse}}" >

                    {% endif %}
                    {% else %}
                     <input type="password" class="form-control" name="motDePasse" id="form.motDePasse" value="{{utilisateur.motDePasse}}" >
                    {% endif %}
            <input class="btn btn-danger" type="submit" name="Valider" style="margin-left:40%">
            <a class="btn btn-warning" href="{% url 'liste_Utilisateur'   choix=utilisateur.role %}">Annuler</a>
        </form>
</div>
                </div></div> </div></div> </div></div>
{% endblock %}